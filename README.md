# è‡ªè¡Œè»Šè¼”åŠ©è¼ªæŽ§åˆ¶ç³»çµ±

## å°ˆæ¡ˆæ¦‚è¿°
æœ¬å°ˆæ¡ˆç‚ºä¸€å¥—è‡ªè¡Œè»Šè¼”åŠ©è¼ªæŽ§åˆ¶ç³»çµ±ï¼Œæ•´åˆç´…å¤–ç·šé™æŽ§ã€éœçˆ¾æ„Ÿæ¸¬å™¨ã€é€Ÿåº¦æ„Ÿæ¸¬èˆ‡ MPU6050 å§¿æ…‹æ„Ÿæ¸¬å™¨ï¼Œä¸¦æ­é… OLED é¡¯ç¤ºã€RGB LED ç‹€æ…‹æç¤ºåŠéŸ³æ•ˆåé¥‹ï¼Œé€éŽå¤šå±¤æ±ºç­–é‚è¼¯æå‡è‡ªè¡Œè»Šè¡Œé§›æ™‚çš„ç©©å®šæ€§èˆ‡å®‰å…¨æ€§ã€‚

---

## ç³»çµ±åŠŸèƒ½

### 1. è¼”åŠ©è¼ªæŽ§åˆ¶

#### æ‰‹å‹•æ¨¡å¼
- **ç´…å¤–ç·šé™æŽ§**ï¼šä½¿ç”¨ç´…å¤–ç·šé™æŽ§å™¨åˆ‡æ›è¼”åŠ©è¼ª UP / DOWN ç‹€æ…‹ã€‚
- **éœçˆ¾æ„Ÿæ¸¬å™¨**ï¼šåµæ¸¬ç«¯é»žèˆ‡æ‰‹å‹•æ“ä½œï¼Œé¿å…æ©Ÿæ§‹éŽè¡Œç¨‹ã€‚
- **RGB LED æŒ‡ç¤º**ï¼š
  - DOWNï¼šé»ƒè‰²  
  - UPï¼šç¶ è‰²
- **éŸ³æ•ˆæç¤º**ï¼šè¼”åŠ©è¼ªæ”¾ä¸‹èˆ‡æ”¶èµ·æ™‚æ’­æ”¾ä¸åŒæç¤ºéŸ³ã€‚

#### è‡ªå‹•æ¨¡å¼ï¼ˆé€Ÿåº¦æŽ§åˆ¶ï¼‰
- é€Ÿåº¦ **ä½Žæ–¼ 10 km/h** æ™‚ï¼Œè‡ªå‹•æ”¾ä¸‹è¼”åŠ©è¼ªã€‚
- é€Ÿåº¦ **é«˜æ–¼æˆ–ç­‰æ–¼ 10 km/h** æ™‚ï¼Œè‡ªå‹•æ”¶èµ·è¼”åŠ©è¼ªã€‚
- RGB LED é¡¯ç¤ºï¼š
  - ä½Žé€Ÿï¼šé»ƒè‰²  
  - é«˜é€Ÿï¼šç¶ è‰²

#### å‚¾æ–œè­¦å‘Šä¿è­·
- ç•¶å‚¾æ–œè§’åº¦ **è¶…éŽ 20Â° ä¸”æŒçºŒ 0.5 ç§’**ï¼š
  - è‡ªå‹•æ”¾ä¸‹è¼”åŠ©è¼ª
  - RGB LED é¡¯ç¤ºè—è‰²
  - æ’­æ”¾è­¦å‘ŠéŸ³
- ç•¶å‚¾æ–œè§’åº¦ **ä½Žæ–¼ 12Â° ä¸”æŒçºŒ 3 ç§’**ï¼š
  - è‡ªå‹•æ”¶èµ·è¼”åŠ©è¼ª
  - RGB LED å›žå¾©ç¶ è‰²

#### ç·Šæ€¥åœæ­¢ï¼ˆæœ€é«˜å„ªå…ˆï¼‰
- ç•¶å‚¾æ–œè§’åº¦ **è¶…éŽ 35Â°** æˆ–è§¸ç™¼å®‰å…¨ä¿è­·ï¼š
  - ç«‹å³éŽ–å®šè¼”åŠ©è¼ªç‚º DOWN
  - RGB LED é¡¯ç¤ºç´…è‰²
  - æ’­æ”¾ç·Šæ€¥è­¦å‘ŠéŸ³
- ç•¶è§’åº¦ **ä½Žæ–¼ 12Â°** ä¸¦ç¢ºèªå®‰å…¨å¾Œï¼Œè§£é™¤ç·Šæ€¥ç‹€æ…‹ã€‚

---

### 2. æ„Ÿæ¸¬èˆ‡æŽ§åˆ¶æ¨¡çµ„
- **MPU6050**ï¼šå–å¾—åŠ é€Ÿåº¦èˆ‡è§’é€Ÿåº¦è³‡æ–™ï¼Œè¨ˆç®—å³æ™‚å‚¾æ–œè§’åº¦ã€‚
- **éœçˆ¾æ„Ÿæ¸¬å™¨**ï¼š
  - è¼”åŠ©è¼ªç«¯é»žåµæ¸¬
  - æ‰‹å‹•æ“ä½œç‹€æ…‹åˆ¤æ–·
- **é€Ÿåº¦æ„Ÿæ¸¬æ¨¡çµ„**ï¼šé€éŽéœçˆ¾è„ˆè¡è¨ˆç®—å³æ™‚è¡Œé§›é€Ÿåº¦ã€‚
- **ç´…å¤–ç·šæŽ¥æ”¶å™¨**ï¼šæŽ¥æ”¶ä½¿ç”¨è€…é™æŽ§æŒ‡ä»¤ã€‚
- **INA226 é›»æµç›£æ¸¬**ï¼šåµæ¸¬ç³»çµ±é›»æµç‹€æ…‹ï¼Œç”¨æ–¼å®‰å…¨ä¿è­·ã€‚

---

### 3. é¡¯ç¤ºèˆ‡äº’å‹•

#### OLED é¡¯ç¤ºå™¨
- é¡¯ç¤ºå…§å®¹åŒ…å«ï¼š
  - ç³»çµ±ç‹€æ…‹
  - è¼”åŠ©è¼ª UP / DOWN
  - å³æ™‚é€Ÿåº¦
  - å³æ™‚å‚¾æ–œè§’åº¦
- æä¾›å•Ÿå‹•ç•«é¢èˆ‡æ¨¡çµ„æ¸¬è©¦ç•«é¢ã€‚

#### RGB LED ç‹€æ…‹æç¤º
- ä»¥é¡è‰²å¿«é€Ÿé¡¯ç¤ºç³»çµ±ç›®å‰ç‹€æ…‹ï¼Œæå‡é¨Žä¹˜æ™‚è¾¨è­˜æ€§ã€‚

#### éŸ³æ•ˆæç¤º
- ç³»çµ±å•Ÿå‹•æç¤ºéŸ³
- è¼”åŠ©è¼ªå‹•ä½œæç¤ºéŸ³
- å‚¾æ–œè­¦å‘ŠéŸ³
- ç·Šæ€¥ç‹€æ…‹è­¦å ±éŸ³

---

### 4. æ¸¬è©¦åŠŸèƒ½
- OLED é¡¯ç¤ºæ¸¬è©¦
- ç´…å¤–ç·šæŽ¥æ”¶æ¸¬è©¦
- MPU6050 å§¿æ…‹è®€å€¼æ¸¬è©¦
- éœçˆ¾æ„Ÿæ¸¬å™¨èˆ‡é€Ÿåº¦æ„Ÿæ¸¬æ¸¬è©¦
- RGB LED é¡è‰²èˆ‡éŸ³æ•ˆç¢ºèª  
- æ¸¬è©¦çµæžœæœƒåŒæ­¥é¡¯ç¤ºæ–¼ OLED ä¸¦ä»¥éŸ³æ•ˆå›žé¥‹ã€‚

---

### 5. ç³»çµ±è¨­è¨ˆé‡é»ž
- æŽ¡ç”¨ **ä¸‰å±¤æ±ºç­–é‚è¼¯**ï¼š
  1. **å®‰å…¨å±¤ï¼ˆæœ€é«˜å„ªå…ˆï¼‰**
  2. **å‚¾æ–œä¿è­·å±¤**
  3. **æ“ä½œæŽ§åˆ¶å±¤**
- æŽ¡ç”¨éžé˜»å¡žå¼è¨­è¨ˆï¼ˆä»¥ `millis()` ç‚ºåŸºç¤Žï¼‰ä»¥æå‡å³æ™‚åæ‡‰èƒ½åŠ›ã€‚
- æ‰€æœ‰é«˜é¢¨éšªç‹€æ…‹çš†å¯ç›´æŽ¥ä¸­æ–·ä½Žå„ªå…ˆæ¬ŠæŽ§åˆ¶é‚è¼¯ã€‚

---

ðŸš¦ RGB LED ç‹€æ…‹æŒ‡ç¤º

| é¡è‰² | ç‹€æ…‹èªªæ˜Ž |
|----|----|
| ðŸŸ¢ ç¶ è‰² | æ­£å¸¸è¡Œé§›ï¼Œé€Ÿåº¦ â‰¥ 10 km/hï¼Œè¼”åŠ©è¼ª UP |
| ðŸŸ¡ é»ƒè‰² | è¼”åŠ©è¼ª DOWNï¼ˆä½Žé€Ÿæˆ–æ‰‹å‹•ï¼‰ |
| ðŸ”µ è—è‰² | å‚¾æ–œè­¦å‘Šï¼ˆè§’åº¦ > 20Â°ï¼‰ |
| ðŸ”´ ç´…è‰² | ç·Šæ€¥ç‹€æ…‹ï¼ˆè§’åº¦ > 35Â° æˆ–å®‰å…¨ä¿è­·ï¼‰ |
| ðŸŸ£ ç´«è‰² | ä¿ç•™ç‹€æ…‹ï¼ˆæœªä½¿ç”¨ï¼‰ |

---

### 6. æœªä¾†å„ªåŒ–æ–¹å‘
- å°‡éŸ³æ•ˆèˆ‡å‹•ç•«å…¨é¢æ”¹ç‚ºéžé˜»å¡žæ–¹å¼ï¼Œé€²ä¸€æ­¥æå‡å³æ™‚æ€§ã€‚
- å¢žåŠ è³‡æ–™ç´€éŒ„åŠŸèƒ½ï¼Œå„²å­˜é€Ÿåº¦èˆ‡å‚¾æ–œè§’åº¦ä¾›å¾ŒçºŒåˆ†æžã€‚
- å„ªåŒ– OLED é¡¯ç¤ºé…ç½®ï¼Œä½¿è³‡è¨Šå‘ˆç¾æ›´æ¸…æ¥šç›´è§€ã€‚

---

## ç³»çµ±æµç¨‹åœ–

```mermaid
graph TD
    A[ç³»çµ±å•Ÿå‹•] --> B[ç¡¬é«”åˆå§‹åŒ–]
    B --> B1[OLED é¡¯ç¤ºå™¨]
    B --> B2[MPU6050]
    B --> B3[INA226]
    B --> B4[éœçˆ¾æ„Ÿæ¸¬å™¨]
    B --> B5[IR æŽ¥æ”¶å™¨]
    B1 & B2 & B3 & B4 & B5 --> C[å•Ÿå‹•å‹•ç•«èˆ‡æ¨¡çµ„æ¸¬è©¦]
    C --> D[ä¸»è¿´åœˆ Loop]

    D --> E[æ„Ÿæ¸¬å™¨è³‡æ–™æ›´æ–°]
    E --> F[ä¸‰å±¤æ±ºç­–é‚è¼¯]

    F --> G1[å®‰å…¨å±¤]
    G1 -->|è§¸ç™¼| G1A[å¼·åˆ¶è¼”åŠ©è¼ª DOWN]

    G1 -->|æ­£å¸¸| G2[ç·Šæ€¥å‚¾æ–œå±¤]
    G2 -->|è§’åº¦ > 35Â°| G2A[ç·Šæ€¥ä¸‹é™ + ç´…è‰²è­¦ç¤º]

    G2 -->|æ­£å¸¸| G3[å‚¾æ–œè­¦å‘Šå±¤]
    G3 -->|è§’åº¦ > 20Â°| G3A[ä¸‹é™ + è—è‰²è­¦ç¤º]

    G3 -->|æ­£å¸¸| G4[æ“ä½œå±¤]
    G4 --> G4A[æ‰‹å‹•æŽ§åˆ¶ / è‡ªå‹•é€Ÿåº¦æŽ§åˆ¶]

    G1A & G2A & G3A & G4A --> H[è¼¸å‡ºæŽ§åˆ¶]
    H --> H1[ç¹¼é›»å™¨]
    H --> H2[PWM æŽ§åˆ¶]
    H --> H3[RGB LED]
    H --> H4[OLED æ›´æ–°]