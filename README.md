# Arduino 自行車輔助輪自動升降系統  
本專題以 Arduino 為核心控制器，整合霍爾感測器、MPU6050、超音波模組、LCD1602、OLED、紅外線遙控模組與線性致動器，實現自行車輔助輪的自動升降與傾斜安全防護系統。

---

## 系統功能總覽
本系統包含六大功能模組：

1. **速度偵測與控制（霍爾感測器）**
2. **傾斜角度監控（MPU6050）**
3. **紅外線遙控控制輔助輪**
4. **OLED 系統狀態顯示**
5. **超音波距離警示**
6. **PWM 速度微調（致動器下降速度控制）**

---

## 系統架構

### 1. 速度測量與輔助輪升降
- 霍爾感測器偵測車輪磁鐵脈衝。
- Arduino 計算速度 (基於脈衝週期)。
- LCD1602 顯示即時速度。
- 根據速度門檻自動控制輔助輪升降。
- 線性致動器由繼電器與 PWM 控制速度。

流程：霍爾感測器 → Arduino → 速度計算 → 繼電器/MOSFET → 線性致動器 → 輔助輪升/降
---

### 2. 傾斜角偵測與安全防護
- MPU6050 提供加速度計與陀螺儀資料。
- 使用互補濾波計算即時傾角。
- 超過安全角度 → 蜂鳴器警示＋輔助輪自動下降。
- LCD 顯示當前角度。

流程：MPU6050 → Arduino → 傾角判定 → 蜂鳴器 → 線性致動器下降

---

### 3. 紅外線遙控控制
- IR 遙控器可手動放下輔助輪。
- Arduino 解析紅外線碼。
- OLED 顯示 ON/OFF 狀態。
- 設計短暫延遲避免誤觸。

流程：IR → Arduino → 繼電器 → 線性致動器
OLED → 顯示狀態
---

### 4. OLED 系統狀態顯示
- 啟動進度條
- 系統模式（正常 / IR 觸發 / 傾斜警示）
- 輔助輪狀態（UP/DOWN）

---

### 5. 超音波距離警示
- 非阻塞式超音波測距
- 距離過近時觸發蜂鳴器提醒

流程：超音波 → Arduino → 蜂鳴器
---

### 6. PWM 速度控制（致動器速度調整）
- 使用 Arduino PWM 調整下降速度
- MOSFET 控制功率，繼電器進行方向切換

---

## 系統安全與故障保護
- 讀值異常時自動放下輔助輪（Fail-safe）
- IR 避免誤觸（Debounce）
- 非阻塞式感測器讀取防止主迴圈卡死

---

## 專案架構
/Project
├── src/
│   ├── main.ino
│   ├── sensor_speed.ino
│   ├── sensor_mpu.ino
│   ├── ir_control.ino
│   ├── oled_display.ino
│   └── pwm_control.ino
├── docs/
│   ├── wiring_diagram.png
│   ├── flowchart.png
│   └── system_overview.pdf
├── README.md
└── LICENSE

---

## 未來可改進方向
- 使用 **H-bridge** 取代繼電器提升平滑控制
- 改用 **磁編碼器 (Encoder)** 取代霍爾，速度更精準
- 導入 **PID 控制** 優化輔助輪動作
- 增加 **藍牙設定介面**（手機即可調速度/角度門檻）

---


