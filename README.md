# 高三專題：Arduino 與 MPU6050 控制輔助輪系統

本專題以 Arduino 為核心控制器，結合 MPU6050、LCD1602、OLED、紅外線控制器及線性致動器，實現自行車輔助輪自動升降與傾斜安全警示功能。

## 系統概述
系統功能可分為兩大類：速度測量與傾斜角監控，並輔助即時狀態顯示與警示。

---

## 硬體架構
MPU6050(速度感測) → Arduino → 繼電器 → 線性致動器 → 輔助輪（升降控制）

MPU6050(傾斜感測) → Arduino → 判斷傾斜 → 蜂鳴器警示 → 輔助輪放下

紅外線控制器(遙控器) → Arduino → 繼電器 → 線性致動器 → 輔助輪下放

LCD1602 → Arduino → 顯示即時速度資訊

OLED → Arduino → 顯示系統即時狀態與進度條

超音波感測器 → Arduino → 蜂鳴器 → 距離警示

---

## 功能架構

### 功能 A：速度測量與控制
- MPU6050 提供加速度資料
- Arduino 對加速度積分計算速度
- LCD1602 顯示當前計算速度
- 線性致動器透過繼電器控制輔助輪升降
- 速度數值可平滑處理避免瞬時抖動

### 功能 B：傾斜角監控
- MPU6050 提供加速度與角速度
- Arduino 透過互補濾波計算傾斜角度
- 設定安全門檻角度 (TILT_THRESHOLD)
- 超過門檻觸發蜂鳴器，輔助輪放下

### 功能 C：紅外線控制
- 遙控器控制輔助輪下降
- Arduino 解析訊號並觸發繼電器

### 功能 D：OLED 系統狀態顯示
- 顯示即時狀態 (正常運作 / IR觸發 / 傾斜警示)
- 顯示系統啟動或校準進度條

### 功能 E：超音波距離警示（可選）
- 測量前方距離
- 距離過小觸發蜂鳴器提醒

---

## 系統流程圖

![系統流程圖]([https://lurl.cc/Y7IHB])


---

## 補充說明
- 速度模擬與平滑：避免 MPU6050 瞬時加速度波動，可使用低通濾波或公式 `vel = 0.9*vel + 0.1*target`
- 傾斜角計算：互補濾波公式 `compAngle = alpha*(compAngle + gyro*dt) + (1-alpha)*accelAngle`
- 安全門檻：傾斜角超過設定值觸發蜂鳴器，增加騎乘安全
- 紅外線延遲觸發：可設定短暫延遲避免誤觸

